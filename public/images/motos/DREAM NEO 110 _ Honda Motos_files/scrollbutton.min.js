/**
 * Jellybo ScrollButton003 , JavaScript scroll button animation
 *
 * @license Copyright (c) 2017, Jellybo. All rights reserved, http://tech.jellybo.com/doc/license.html
 * To use this plugin you must buy our product in http://jellybo.com.
 * @author  Marian Spisiak
 * @created 2017-07-27
 * @link    http://jellybo.com
 */ 

var Jellybo=Jellybo||{};Jellybo._prefix="jellybo",Jellybo.BootLoader=function(t){var n={pluginName:"",animationFactory:null,publicFunctions:null,selector:"",settingAttributes:null},i=Jellybo._prefix;return function(o){function r(n,i){return function(){var o=null,r=arguments;return n.each(function(){var n=t(this).data(s);o=n[i].apply(n,r)}),o}}function e(t){var n={};for(var i in f.publicFunctions)n[f.publicFunctions[i]]=r(t,f.publicFunctions[i]);return n}function a(t,n){return function(){return t[n].apply(t,arguments)}}function l(n,i){var o={};for(var r in f.settingAttributes){var e=f.settingAttributes[r].toString().toLowerCase();n.data(e)&&(o[e]=n.data(e))}1===i.length&&t.extend(o,i[0]);var l=f.animationFactory(n,o),c={};l.init(),c.settings=a(l,"settings");for(var r in f.publicFunctions)c[f.publicFunctions[r]]=a(l,f.publicFunctions[r]);return c}function c(){return function(){var n=arguments;return this.each(function(){t(this).data(s)?1===n.length&&t.isPlainObject(n[0])&&t(this).data(s).settings(n[0]):t(this).data(s,l(t(this),n))}),e(this)}}function u(){t.fn[f.pluginName]=c()}var f={};t.extend(f,n,o);var s=i+"animation_plugin_"+f.pluginName;return function(){return u(),t(function(){t(f.selector)[f.pluginName]()}),null}()}}($),Jellybo.ScrollButton3=function(t,n,i){function o(n,i){var o=0;for(var r in n){var e=r/100;if(i>o&&e>=i){var a=(i-o)/(e-o);t.isFunction(n[r])&&n[r](a)}o=e}}function r(n,i){function o(i,o){n.on(i,function(){t.isFunction(o)?o.apply(this,arguments):window[o].apply(this,arguments)})}for(var r in i)for(var e in l)r.toString().toLowerCase()===e.toString().toLowerCase()&&o(l[e],i[r])}function e(n,i,o){for(var r in i)t.inArray(r,o)<0&&(n[r]=i[r])}var a={time_offset:.83,width:40,height:70,color1:"#fff",color2:"#fff",shadow_color:"#fff",line_stroke:2,duration:500,delay_duration:900,opacity:.8},l={onSubmit:"event_submit",onItemSelect:"event_itemClick",onChange:"event_change",onItemHighlight:"event_itemHighlight"},c=[];for(var u in l)c.push(u);return function(l,u){function f(i){m=t(i),m.html('<div style="display: inline-block;" class="jellyboScrollButton003Wrapper"><svg style="display: inline-block;"></svg></div>'),_=n(m.find("svg")[0]),_.attr({width:j,height:x,style:"overflow: visible;"}),B=Math.min(C,N)/2,w=_.rect(A,A,C,N,B,B);var o=_.filter(n.filter.shadow(0,0,2,$,.5));w.attr({stroke:H,fill:"none",strokeWidth:L,strokeLinecap:"round",filter:o,opacity:P}),J=2*Math.PI*B+2*(N-2*B);var r=.08*C,e=2*r,a=.8*r;F=_.circle(C/2+A,B,r),F.attr({fill:M,stroke:"none",filter:o,opacity:P}),k=_.circle(C/2+A,B+e+a,r),k.attr({fill:M,stroke:"none",filter:o,opacity:P}),S=_.circle(C/2+A,B+e+a+e+a,r),S.attr({fill:M,stroke:"none",filter:o,opacity:P}),h()}function s(t){return O+(P-O)*t}function p(){n.animate(0,1,function(t){var n=O,i=O,r=O;o({33:function(t){n=g(P,s(.66),t),i=g(s(.66),P,t),r=g(O,s(.33),t)},66:function(t){n=g(s(.66),s(.33),t),i=g(P,s(.66),t),r=g(s(.33),s(.66),t)},100:function(t){n=g(s(.33),O,t),i=g(s(.66),s(.33),t),r=g(s(.66),P,t)}},t),F.attr({opacity:n}),k.attr({opacity:i}),S.attr({opacity:r})},I,i.linear,function(){y()})}function y(){n.animate(0,1,function(t){var n=O,i=O,r=O;n=O,r=g(P,O,t),o({33:function(){i=g(s(.33),O,t)},100:function(){}},t),F.attr({opacity:n}),k.attr({opacity:i}),S.attr({opacity:r})},I,i.linear,function(){v()})}function v(){setTimeout(function(){h()},W)}function h(){n.animate(0,1,function(t){var n=O,i=O,r=O;n=g(0,P,t),o({50:null,100:function(t){i=g(0,s(.66),t)}},t),r=O,F.attr({opacity:n}),k.attr({opacity:i}),S.attr({opacity:r})},.66*I,i.linear,function(){p()})}function g(t,n,i){return t+(n-t)*i}function d(t){e(b,t,c),r(m,t)}var b={};t.extend(b,a),e(b,u,c);var m,_,w,F,k,S,J,B,L=b.line_stroke,j=b.width,x=b.height,A=L/2,C=j-2*A,N=x-2*A,I=b.duration,H=b.color1,M=b.color2,P=b.opacity,W=b.delay_duration,$=b.shadow_color,O=0;return{init:function(){f(l)},settings:d}}}($,Snap,mina),Jellybo.BootLoader({pluginName:"jellyboScrollButton003",animationFactory:Jellybo.ScrollButton3,publicFunctions:[],selector:".jellybo-ScrollBtn003",settingAttributes:["color_1","color_2","width","height","shadow_color","opacity"]});

